extends layout 

block title 
  title=`${event.title} | ${TEXTS.editEventHeading} | ThrSqr`

block script
  script(src="/javascript/application.js")
  script(src="/javascript/form-handling.js")

block main 
  h1= event.title
  h2= TEXTS.editEventHeading

  p 
    img(src=event.logourl id="eventLogo" width="125px")
  dl 
    dt 
      label(for="eventLogoFile")= TEXTS.eventLogo
    dd 
      input(type="file" id="eventLogoFile" name="eventLogoFile" accept="image/*")

  form(action=`/event/${event.id}/edit` method="post")
    dl 
      dt 
        label(for="eventTitle")= TEXTS.eventTitle
      dd 
        input(type="text" 
              id="eventTitle" 
              name="eventTitle"
              value=event.title
              placeholder=TEXTS.eventTitlePlaceholder
              maxlength=100 
              required)    
      dt 
        label(for="eventDayOfWeek")= TEXTS.eventDayOfWeek
      dd 
        select(name="eventDayOfWeek" required)
          each val, index in TEXTS.weekArray
            if index === event.dayofweek 
              option(selected value=index)= val 
            else
              option(value=index)= val 
      dt 
        label(for="eventTime")= TEXTS.eventTime
      dd 
        input(type="time" 
              id="eventTime" 
              name="eventTime" 
              value=event.eventtime
              required)
      dt 
        label(for="eventTimeZone")= TEXTS.eventTimeZone
      dd
        input(type="text"
              name="eventTimeZone"
              value=event.timezone
              disabled)
      dt 
        label(for="eventInfo")= TEXTS.eventInfo
      dd 
        textarea(rows=3 
                 maxlength=300
                 id="eventInfo" 
                 name="eventInfo" 
                 placeholder=TEXTS.eventInfoPlaceholder)=event.info
    input(type="hidden" id="eventId" name="eventId" value=event.id)
    input(type="hidden" id="eventLogoURL" name="eventLogoURL" value="/images/thrsqrlogo.png")

    input(type="submit" value=TEXTS.updateEvent)